This file contains a database schema extraction in a compact format, optimized for AI context windows.
Generated by Schemix on: 2025-01-10T07:44:09.530Z

================================================================
Schema Summary
================================================================

Purpose:
--------
This file contains a detailed representation of the database schema, designed
to be easily consumable by AI systems for analysis, querying assistance,
and other automated processes.

Schema Format:
-------------
The content is organized as follows:
1. This summary section
2. Database information
3. Schema details:
   - For PostgreSQL: Tables, columns, constraints, indexes, and enums
   - For MongoDB: Collections, fields, types, indexes, and sample data

Usage Guidelines:
----------------
- This schema representation is designed for read-only analysis
- When processing this schema, note that:
  * PostgreSQL: All objects are from the public schema
  * MongoDB: Field types are inferred from sampling
- Sensitive information (like credentials) has been removed

Notes:
------
- Schema extraction performed on: 10/01/2025
- Database Type: POSTGRES
- Some system collections/tables may be excluded
- Indexes and constraints are included for comprehensive analysis

Additional Info:
---------------
For more information about Schemix, visit: https://github.com/kennylwx/schemix

================================================================
Schema Details

# Database Schema Documentation

## Tables

### AppUser

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| userId | character varying | NO | null | FOREIGN KEY, PRIMARY KEY |
| userMetadata | jsonb | YES | '{}'::jsonb |  |
| onboardComplete | boolean | NO | false |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_AppUser_userId | CREATE INDEX "ix_AppUser_userId" ON public."AppUser" USING btree ("userId") |
| AppUser_pkey | CREATE UNIQUE INDEX "AppUser_pkey" ON public."AppUser" USING btree ("userId") |
| AppUser_userId_key | CREATE UNIQUE INDEX "AppUser_userId_key" ON public."AppUser" USING btree ("userId") |

### ChildStep

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| childStepId | uuid | NO | null |  |
| parentStepId | uuid | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ChildStep_pkey | CREATE UNIQUE INDEX "ChildStep_pkey" ON public."ChildStep" USING btree (id) |
| ChildStep_id_key | CREATE UNIQUE INDEX "ChildStep_id_key" ON public."ChildStep" USING btree (id) |

### Documentation

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| documentationId | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| documentationName | text | NO | null |  |
| createdDate | timestamp without time zone | NO | null |  |
| duration | double precision | NO | null |  |
| totalSteps | integer | YES | null |  |
| description | text | YES | null |  |
| rawData | jsonb | YES | null |  |
| createdBy | character varying | NO | null |  |
| shareId | uuid | YES | gen_random_uuid() |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| vaultId | uuid | NO | null |  |
| isPublic | boolean | NO | false |  |
| isGlobal | boolean | NO | false |  |
| isLocked | boolean | NO | false |  |

#### Indexes

| Name | Definition |
|------|------------|
| Documentation_vaultId_idx | CREATE INDEX "Documentation_vaultId_idx" ON public."Documentation" USING btree ("vaultId") |
| Documentation_pkey | CREATE UNIQUE INDEX "Documentation_pkey" ON public."Documentation" USING btree ("documentationId") |
| idx_documentation_vault_search | CREATE INDEX idx_documentation_vault_search ON public."Documentation" USING btree ("vaultId", "documentationName", "createdDate" DESC) |
| Documentation_documentationId_key | CREATE UNIQUE INDEX "Documentation_documentationId_key" ON public."Documentation" USING btree ("documentationId") |
| idx_documentation_tenant_filters | CREATE INDEX idx_documentation_tenant_filters ON public."Documentation" USING btree ("vaultId", "isPublic", "isGlobal", "updatedAt" DESC) |

### DocumentationVersion

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| versionId | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| major | integer | NO | null |  |
| minor | integer | NO | null |  |
| patch | integer | NO | null |  |
| editedBy | character varying | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| changeSummary | text | YES | null |  |
| originalDocumentationId | uuid | NO | null |  |
| versionedDocumentId | uuid | NO | null |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_DocumentationVersion_originalDocumentationId | CREATE INDEX "ix_DocumentationVersion_originalDocumentationId" ON public."DocumentationVersion" USING btree ("originalDocumentationId") |
| DocumentationVersion_versionId_key | CREATE UNIQUE INDEX "DocumentationVersion_versionId_key" ON public."DocumentationVersion" USING btree ("versionId") |
| ix_DocumentationVersion_versionedDocumentId | CREATE INDEX "ix_DocumentationVersion_versionedDocumentId" ON public."DocumentationVersion" USING btree ("versionedDocumentId") |
| DocumentationVersion_pkey | CREATE UNIQUE INDEX "DocumentationVersion_pkey" ON public."DocumentationVersion" USING btree ("versionId") |
| idx_doc_version_lookup | CREATE INDEX idx_doc_version_lookup ON public."DocumentationVersion" USING btree ("originalDocumentationId", "createdAt" DESC) |

### Extension

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | text | NO | gen_random_uuid() | PRIMARY KEY |
| extensionId | text | NO | null |  |
| publicKey | text | NO | null |  |
| challenge | text | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| Extension_extensionId_key | CREATE UNIQUE INDEX "Extension_extensionId_key" ON public."Extension" USING btree ("extensionId") |
| Extension_pkey | CREATE UNIQUE INDEX "Extension_pkey" ON public."Extension" USING btree (id) |
| Extension_extensionId_idx | CREATE INDEX "Extension_extensionId_idx" ON public."Extension" USING btree ("extensionId") |

### Notification

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| userId | character varying | NO | null |  |
| type | text | NO | null |  |
| message | text | NO | null |  |
| link | text | YES | null |  |
| isRead | boolean | NO | false |  |
| relatedResourceId | text | YES | null |  |
| relatedResourceType | USER-DEFINED | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| emailStatus | USER-DEFINED | NO | 'PENDING'::"NotificationEmailStatus" |  |
| emailSentAt | timestamp without time zone | YES | null |  |
| templateParams | jsonb | NO | '{}'::jsonb |  |
| metadata | jsonb | NO | '{}'::jsonb |  |

#### Indexes

| Name | Definition |
|------|------------|
| idx_notification_emailStatus | CREATE INDEX "idx_notification_emailStatus" ON public."Notification" USING btree ("emailStatus") |
| ix_Notification_emailStatus | CREATE INDEX "ix_Notification_emailStatus" ON public."Notification" USING btree ("emailStatus") |
| ix_Notification_createdAt | CREATE INDEX "ix_Notification_createdAt" ON public."Notification" USING btree ("createdAt") |
| Notification_userId_idx | CREATE INDEX "Notification_userId_idx" ON public."Notification" USING btree ("userId") |
| Notification_pkey | CREATE UNIQUE INDEX "Notification_pkey" ON public."Notification" USING btree (id) |

### NotificationTypeDefault

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | uuid_generate_v4() | PRIMARY KEY |
| notificationType | text | NO | null | UNIQUE |
| defaultChannels | ARRAY | NO | ARRAY['IN_APP'::"NotificationChannel", 'EMAIL'::"NotificationChannel"] |  |
| description | text | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| NotificationTypeDefault_pkey | CREATE UNIQUE INDEX "NotificationTypeDefault_pkey" ON public."NotificationTypeDefault" USING btree (id) |
| NotificationTypeDefault_notificationType_key | CREATE UNIQUE INDEX "NotificationTypeDefault_notificationType_key" ON public."NotificationTypeDefault" USING btree ("notificationType") |

### ResourceAccessControl

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| resourceId | text | NO | null |  |
| resourceType | USER-DEFINED | NO | null |  |
| roleId | uuid | NO | null |  |
| userId | character varying | YES | null |  |
| teamId | uuid | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ResourceAccessControl_teamId_idx | CREATE INDEX "ResourceAccessControl_teamId_idx" ON public."ResourceAccessControl" USING btree ("teamId") |
| ResourceAccessControl_resource_idx | CREATE INDEX "ResourceAccessControl_resource_idx" ON public."ResourceAccessControl" USING btree ("resourceId", "resourceType") |
| ResourceAccessControl_pkey | CREATE UNIQUE INDEX "ResourceAccessControl_pkey" ON public."ResourceAccessControl" USING btree (id) |
| ResourceAccessControl_userId_idx | CREATE INDEX "ResourceAccessControl_userId_idx" ON public."ResourceAccessControl" USING btree ("userId") |
| idx_resource_access_composite | CREATE INDEX idx_resource_access_composite ON public."ResourceAccessControl" USING btree ("resourceType", "userId", "teamId", "roleId") |

### ResourceRequest

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| resourceId | uuid | NO | null |  |
| resourceType | USER-DEFINED | NO | null |  |
| requesterId | character varying | NO | null |  |
| message | text | YES | null |  |
| dueDate | timestamp with time zone | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_ResourceRequest_resourceId | CREATE INDEX "ix_ResourceRequest_resourceId" ON public."ResourceRequest" USING btree ("resourceId") |
| ResourceRequest_pkey | CREATE UNIQUE INDEX "ResourceRequest_pkey" ON public."ResourceRequest" USING btree (id) |
| ix_ResourceRequest_requesterId | CREATE INDEX "ix_ResourceRequest_requesterId" ON public."ResourceRequest" USING btree ("requesterId") |
| ix_ResourceRequest_dueDate | CREATE INDEX "ix_ResourceRequest_dueDate" ON public."ResourceRequest" USING btree ("dueDate") |
| ix_ResourceRequest_resource_composite | CREATE INDEX "ix_ResourceRequest_resource_composite" ON public."ResourceRequest" USING btree ("resourceType", "resourceId") |
| ix_ResourceRequest_resourceType | CREATE INDEX "ix_ResourceRequest_resourceType" ON public."ResourceRequest" USING btree ("resourceType") |

### ResourceRequestAssignment

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| resourceRequestId | uuid | NO | null | UNIQUE |
| recipientId | character varying | NO | null | UNIQUE |
| status | USER-DEFINED | NO | 'PENDING'::"ResourceRequestStatus" |  |
| completedAt | timestamp with time zone | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_ResourceRequestAssignment_status | CREATE INDEX "ix_ResourceRequestAssignment_status" ON public."ResourceRequestAssignment" USING btree (status) |
| ResourceRequestAssignment_pkey | CREATE UNIQUE INDEX "ResourceRequestAssignment_pkey" ON public."ResourceRequestAssignment" USING btree (id) |
| uq_ResourceRequestAssignment_request_recipient | CREATE UNIQUE INDEX "uq_ResourceRequestAssignment_request_recipient" ON public."ResourceRequestAssignment" USING btree ("resourceRequestId", "recipientId") |
| ix_ResourceRequestAssignment_resourceRequestId | CREATE INDEX "ix_ResourceRequestAssignment_resourceRequestId" ON public."ResourceRequestAssignment" USING btree ("resourceRequestId") |
| ix_ResourceRequestAssignment_recipientId | CREATE INDEX "ix_ResourceRequestAssignment_recipientId" ON public."ResourceRequestAssignment" USING btree ("recipientId") |

### ResourceTag

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| tagId | uuid | NO | null |  |
| resourceId | text | NO | null |  |
| resourceType | USER-DEFINED | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ResourceTag_unique_assignment_idx | CREATE UNIQUE INDEX "ResourceTag_unique_assignment_idx" ON public."ResourceTag" USING btree ("tagId", "resourceId", "resourceType") |
| ResourceTag_pkey | CREATE UNIQUE INDEX "ResourceTag_pkey" ON public."ResourceTag" USING btree (id) |

### Role

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| name | USER-DEFINED | NO | null | UNIQUE |
| description | text | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| Role_name_key | CREATE UNIQUE INDEX "Role_name_key" ON public."Role" USING btree (name) |
| Role_pkey | CREATE UNIQUE INDEX "Role_pkey" ON public."Role" USING btree (id) |

### Screenshot

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| screenshotId | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| screenshotStepNumber | integer | NO | null |  |
| uploadStatus | USER-DEFINED | NO | null |  |
| screenshotKey | text | YES | null |  |
| hidden | boolean | NO | false |  |
| annotation | boolean | NO | true |  |
| stepId | uuid | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| x1Coordinate | integer | YES | null |  |
| y1Coordinate | integer | YES | null |  |
| x2Coordinate | integer | YES | null |  |
| y2Coordinate | integer | YES | null |  |
| isCropped | boolean | YES | false |  |

#### Indexes

| Name | Definition |
|------|------------|
| Screenshot_pkey | CREATE UNIQUE INDEX "Screenshot_pkey" ON public."Screenshot" USING btree ("screenshotId") |
| Screenshot_screenshotId_key | CREATE UNIQUE INDEX "Screenshot_screenshotId_key" ON public."Screenshot" USING btree ("screenshotId") |

### ScreenshotAnnotation

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| screenshotAnnotationId | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| screenshotId | uuid | NO | null |  |
| shapeType | USER-DEFINED | NO | null |  |
| x1Coordinate | integer | NO | null |  |
| y1Coordinate | integer | NO | null |  |
| x2Coordinate | integer | YES | null |  |
| y2Coordinate | integer | YES | null |  |
| annotationIndex | integer | YES | null |  |
| color | text | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ScreenshotAnnotation_pkey | CREATE UNIQUE INDEX "ScreenshotAnnotation_pkey" ON public."ScreenshotAnnotation" USING btree ("screenshotAnnotationId") |
| ScreenshotAnnotation_screenshotAnnotationId_key | CREATE UNIQUE INDEX "ScreenshotAnnotation_screenshotAnnotationId_key" ON public."ScreenshotAnnotation" USING btree ("screenshotAnnotationId") |

### Step

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| stepId | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| stepNumber | integer | NO | null |  |
| stepDescription | text | YES | null |  |
| stepType | USER-DEFINED | NO | 'STEP'::"StepTypes" |  |
| documentationId | uuid | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| rawData | jsonb | YES | null |  |

#### Indexes

| Name | Definition |
|------|------------|
| Step_pkey | CREATE UNIQUE INDEX "Step_pkey" ON public."Step" USING btree ("stepId") |
| Step_stepId_key | CREATE UNIQUE INDEX "Step_stepId_key" ON public."Step" USING btree ("stepId") |

### Tag

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| name | text | NO | null | UNIQUE |
| color | text | YES | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| Tag_pkey | CREATE UNIQUE INDEX "Tag_pkey" ON public."Tag" USING btree (id) |
| Tag_name_key | CREATE UNIQUE INDEX "Tag_name_key" ON public."Tag" USING btree (name) |

### Team

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| teamId | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| teamName | text | NO | null |  |
| teamDescription | text | YES | null |  |
| tenantId | character varying | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_Team_teamId | CREATE UNIQUE INDEX "ix_Team_teamId" ON public."Team" USING btree ("teamId") |
| Team_pkey | CREATE UNIQUE INDEX "Team_pkey" ON public."Team" USING btree ("teamId") |
| ix_Team_tenantId | CREATE INDEX "ix_Team_tenantId" ON public."Team" USING btree ("tenantId") |

### TeamAssociation

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| teamAssociationId | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| teamId | uuid | NO | null |  |
| appUserId | character varying | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| ix_Team_Association_teamId | CREATE INDEX "ix_Team_Association_teamId" ON public."TeamAssociation" USING btree ("teamId") |
| TeamAssociation_pkey | CREATE UNIQUE INDEX "TeamAssociation_pkey" ON public."TeamAssociation" USING btree ("teamAssociationId") |
| idx_team_association_user | CREATE INDEX idx_team_association_user ON public."TeamAssociation" USING btree ("appUserId", "teamId") |
| ix_Team_Association_teamAssociationId | CREATE UNIQUE INDEX "ix_Team_Association_teamAssociationId" ON public."TeamAssociation" USING btree ("teamAssociationId") |
| ix_Team_Association_appUserId | CREATE INDEX "ix_Team_Association_appUserId" ON public."TeamAssociation" USING btree ("appUserId") |

### Tenant

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| tenantId | character varying | NO | null | FOREIGN KEY, PRIMARY KEY |
| stripeCustomerId | text | YES | null |  |
| companyLogoKey | text | YES | null |  |
| createdBy | character varying | NO | null |  |
| owner | character varying | NO | null |  |
| piiRedactedEntities | jsonb | NO | '{"NRP": false, "URL": false, "AU_ABN": false, "AU_ACN": false, "AU_TFN": false, "CRYPTO": false, "PERSON": false, "UK_NHS": false, "US_SSN": false, "US_ITIN": false, "LOCATION": false, "DATE_TIME": false, "IBAN_CODE": false, "IP_ADDRESS": false, "AU_MEDICARE": false, "CREDIT_CARD": false, "US_PASSPORT": false, "PHONE_NUMBER": false, "EMAIL_ADDRESS": false, "US_BANK_NUMBER": false, "MEDICAL_LICENSE": false, "US_DRIVER_LICENSE": false}'::jsonb |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| allowAutoUpdate | boolean | NO | true |  |

#### Indexes

| Name | Definition |
|------|------------|
| Tenant_pkey | CREATE UNIQUE INDEX "Tenant_pkey" ON public."Tenant" USING btree ("tenantId") |
| ix_Tenant_createdBy | CREATE INDEX "ix_Tenant_createdBy" ON public."Tenant" USING btree ("createdBy") |
| ix_Tenant_owner | CREATE INDEX "ix_Tenant_owner" ON public."Tenant" USING btree (owner) |
| Tenant_tenantId_key | CREATE UNIQUE INDEX "Tenant_tenantId_key" ON public."Tenant" USING btree ("tenantId") |

### UserConfluenceInstallation

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | text | NO | null | PRIMARY KEY |
| userId | text | NO | null |  |
| tenantId | text | NO | null |  |
| siteUrl | text | NO | null |  |
| refreshToken | text | NO | null |  |
| expiresAt | timestamp without time zone | NO | null |  |
| cloudId | text | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| UserConfluenceInstallation_userId_tenantId_key | CREATE UNIQUE INDEX "UserConfluenceInstallation_userId_tenantId_key" ON public."UserConfluenceInstallation" USING btree ("userId", "tenantId") |
| UserConfluenceInstallation_pkey | CREATE UNIQUE INDEX "UserConfluenceInstallation_pkey" ON public."UserConfluenceInstallation" USING btree (id) |
| UserConfluenceInstallation_userId_idx | CREATE INDEX "UserConfluenceInstallation_userId_idx" ON public."UserConfluenceInstallation" USING btree ("userId") |
| UserConfluenceInstallation_tenantId_idx | CREATE INDEX "UserConfluenceInstallation_tenantId_idx" ON public."UserConfluenceInstallation" USING btree ("tenantId") |

### UserNotificationPreference

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | uuid_generate_v4() | PRIMARY KEY |
| userId | character varying | NO | null | UNIQUE |
| notificationType | text | NO | null | UNIQUE |
| channels | ARRAY | NO | ARRAY['IN_APP'::"NotificationChannel", 'EMAIL'::"NotificationChannel"] |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| UserNotificationPreference_userId_notificationType_key | CREATE UNIQUE INDEX "UserNotificationPreference_userId_notificationType_key" ON public."UserNotificationPreference" USING btree ("userId", "notificationType") |
| ix_UserNotificationPreference_userId | CREATE INDEX "ix_UserNotificationPreference_userId" ON public."UserNotificationPreference" USING btree ("userId") |
| ix_UserNotificationPreference_notificationType | CREATE INDEX "ix_UserNotificationPreference_notificationType" ON public."UserNotificationPreference" USING btree ("notificationType") |
| UserNotificationPreference_pkey | CREATE UNIQUE INDEX "UserNotificationPreference_pkey" ON public."UserNotificationPreference" USING btree (id) |
| idx_preference_userId | CREATE INDEX "idx_preference_userId" ON public."UserNotificationPreference" USING btree ("userId") |

### UserNotificationUnsubscribeToken

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| userId | character varying | NO | null |  |
| token | text | NO | null | UNIQUE |
| expiresAt | timestamp with time zone | NO | null |  |
| createdAt | timestamp with time zone | NO | CURRENT_TIMESTAMP |  |

#### Indexes

| Name | Definition |
|------|------------|
| UserNotificationUnsubscribeToken_pkey | CREATE UNIQUE INDEX "UserNotificationUnsubscribeToken_pkey" ON public."UserNotificationUnsubscribeToken" USING btree (id) |
| UserNotificationUnsubscribeToken_token_key | CREATE UNIQUE INDEX "UserNotificationUnsubscribeToken_token_key" ON public."UserNotificationUnsubscribeToken" USING btree (token) |
| idx_unsubscribe_token | CREATE INDEX idx_unsubscribe_token ON public."UserNotificationUnsubscribeToken" USING btree (token) |
| idx_unsubscribe_userId | CREATE INDEX "idx_unsubscribe_userId" ON public."UserNotificationUnsubscribeToken" USING btree ("userId") |

### Vault

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | FOREIGN KEY, PRIMARY KEY |
| name | text | NO | null |  |
| description | text | YES | null |  |
| tenantId | character varying | NO | null |  |
| createdBy | character varying | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| isPublic | boolean | NO | false |  |
| isLocked | boolean | NO | false |  |
| isGlobal | boolean | NO | false |  |

#### Indexes

| Name | Definition |
|------|------------|
| Vault_pkey | CREATE UNIQUE INDEX "Vault_pkey" ON public."Vault" USING btree (id) |
| idx_vault_tenant | CREATE INDEX idx_vault_tenant ON public."Vault" USING btree ("tenantId", id) |
| Vault_tenantId_idx | CREATE INDEX "Vault_tenantId_idx" ON public."Vault" USING btree ("tenantId") |

### Workflow

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| id | uuid | NO | gen_random_uuid() | PRIMARY KEY |
| name | text | YES | null |  |
| description | text | YES | null |  |
| roomId | text | YES | null |  |
| vaultId | uuid | NO | null |  |
| createdBy | character varying | NO | null |  |
| createdAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| updatedAt | timestamp without time zone | NO | CURRENT_TIMESTAMP |  |
| isPublic | boolean | NO | false |  |
| isLocked | boolean | NO | false |  |
| isGlobal | boolean | NO | false |  |

#### Indexes

| Name | Definition |
|------|------------|
| Workflow_vaultId_idx | CREATE INDEX "Workflow_vaultId_idx" ON public."Workflow" USING btree ("vaultId") |
| idx_workflow_tenant_filters | CREATE INDEX idx_workflow_tenant_filters ON public."Workflow" USING btree ("vaultId", "isPublic", "isGlobal", "updatedAt" DESC) |
| idx_workflow_vault_listing | CREATE INDEX idx_workflow_vault_listing ON public."Workflow" USING btree ("vaultId", "updatedAt" DESC) |
| Workflow_pkey | CREATE UNIQUE INDEX "Workflow_pkey" ON public."Workflow" USING btree (id) |

### flyway_schema_history

#### Columns

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|----------|-------------|
| installed_rank | integer | NO | null | PRIMARY KEY |
| version | character varying | YES | null |  |
| description | character varying | NO | null |  |
| type | character varying | NO | null |  |
| script | character varying | NO | null |  |
| checksum | integer | YES | null |  |
| installed_by | character varying | NO | null |  |
| installed_on | timestamp without time zone | NO | now() |  |
| execution_time | integer | NO | null |  |
| success | boolean | NO | null |  |

#### Indexes

| Name | Definition |
|------|------------|
| flyway_schema_history_s_idx | CREATE INDEX flyway_schema_history_s_idx ON public.flyway_schema_history USING btree (success) |
| flyway_schema_history_pk | CREATE UNIQUE INDEX flyway_schema_history_pk ON public.flyway_schema_history USING btree (installed_rank) |

## Enums

### NotificationChannel

Values: EMAIL, IN_APP

### NotificationEmailStatus

Values: PENDING, SENT, FAILED

### ResourceRequestStatus

Values: PENDING, COMPLETED, OVERDUE, CANCELLED

### ResourceType

Values: VAULT, DOCUMENTATION, WORKFLOW

### RoleName

Values: MANAGER, EDITOR, COMMENTER, VIEWER

### ScreenshotAnnotationTypes

Values: RECTANGLE, CIRCLE, LINE, ARROW, TEXT, PENTAGON

### StepTypes

Values: STEP, ERROR, WARNING, INFO, NOTE, TIP, EXAMPLE, CODE, IMAGE, SUCCESS, HEADLINE, SUBHEADLINE

### UploadStatusEnums

Values: PENDING, UPLOADED, FAILED

### notificationchannel

Values: EMAIL, IN_APP

### notificationemailstatus

Values: PENDING, SENT, FAILED

